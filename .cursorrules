# CBL TSO Design Consistency Rules

## CRITICAL: UI/UX Design Consistency

**MANDATORY**: ALL new pages, components, and features MUST match the existing design theme and patterns. This is non-negotiable and must be checked BEFORE submitting any code.

### Design Consistency Checklist (MUST FOLLOW):

#### 1. Before Creating ANY New Component:
- ✅ **ALWAYS** review similar existing pages first (e.g., `PlacedOrders.js`, `TSOReport.js`, `DailyDemand.js`, `NewOrdersTablet.js`)
- ✅ **ALWAYS** match exact styling patterns from existing components
- ✅ **ALWAYS** use the same Ant Design component configurations
- ✅ **NEVER** create new design patterns without matching existing ones

#### 2. Card Styling:
- `borderRadius: '8px'` (always use this exact value)
- `boxShadow` for depth
- `background: '#f0f7ff'` for info/header cards
- `bodyStyle={{ padding: '12px' }}` for card body padding
- `style={{ marginBottom: '16px' }}` for card spacing

#### 3. Table Design:
- **Pagination**: 
  - `showSizeChanger: true`
  - `showQuickJumper: true`
  - `showTotal: (total, range) => \`${range[0]}-${range[1]} of ${total} orders\``
  - `pageSizeOptions: ['10', '20', '50', '100']`
  - `defaultPageSize: 20`
- **Columns**:
  - Use `ellipsis: true` for long text columns
  - Use `sorter` functions for sortable columns
  - Use `Tag` components for IDs/statuses
  - Use `Tooltip` for truncated text
- **Styling**: Match exact table styling from `PlacedOrders.js` and `TSOReport.js`

#### 4. Form Elements:
- **Input/Select sizes**: `size="middle"` (standard size)
- **Form layout**: Use `Row` and `Col` with `gutter={[12, 12]}`
- **Form.Item**: Standard Ant Design Form.Item patterns
- **Labels**: Use `Text strong style={{ fontSize: '12px' }}` for filter labels
- **Spacing**: Use `Space` component with `size="small"` for vertical spacing

#### 5. Buttons:
- Standard button sizes (no custom sizes unless matching existing)
- Icon buttons: Use Ant Design icons consistently
- Button placement: Match existing patterns

#### 6. Typography:
- **Title**: `Title level={3}` with icon, `style={{ marginBottom: '8px' }}`
- **Subtitle**: `Text type="secondary"` with `style={{ marginBottom: '24px', display: 'block' }}`
- **Font sizes**: Match existing patterns (typically `12px` for labels, standard for body)

#### 7. Colors and Themes:
- Match existing color schemes exactly
- Use Ant Design default colors unless matching specific existing patterns
- Info cards: `background: '#f0f7ff'`

#### 8. Component Structure:
- Match the exact structure of similar existing pages
- Use same import patterns
- Use same state management patterns
- Use same API call patterns

### Reference Files for Design Patterns:
- **Tables**: `frontend/src/pages/PlacedOrders.js`, `frontend/src/pages/TSOReport.js`
- **Forms**: `frontend/src/pages/NewOrdersTablet.js`, `frontend/src/pages/DailyDemand.js`
- **Cards/Layout**: `frontend/src/pages/MonthlyForecastTab.js`

### Workflow for New Features:
1. **First**: Read similar existing components to understand patterns
2. **Second**: Copy styling patterns exactly (don't invent new ones)
3. **Third**: Implement functionality using existing patterns
4. **Fourth**: Verify consistency by comparing with reference files
5. **Fifth**: Only then submit code

### Common Mistakes to Avoid:
- ❌ Creating new card styles instead of matching existing ones
- ❌ Using different pagination configurations
- ❌ Using different table column rendering patterns
- ❌ Using different button sizes or styles
- ❌ Using different form layouts
- ❌ Not checking existing similar pages first

### Enforcement:
- This rule applies to ALL new pages, components, and features
- It applies even if the user doesn't explicitly mention it
- Always verify consistency before completing any task
- If unsure, ask the user to point to a similar existing page to match

---

## CRITICAL: Template Usage - Universal Template Policy

**MANDATORY**: When a template is defined in the `frontend/src/templates/` directory, ALL pages and components MUST use that template. No exceptions.

### Template Usage Rules:

#### 1. Template Discovery:
- **ALWAYS** check `frontend/src/templates/` directory before implementing any UI component
- **ALWAYS** check if a template exists for:
  - Pagination
  - Tables
  - Date pickers
  - Any reusable UI component

#### 2. Template Usage:
- ✅ **MUST** use existing templates for all components that match their purpose
- ✅ **MUST** import templates from `frontend/src/templates/`
- ✅ **MUST** use template functions/hooks as-is without modification
- ❌ **NEVER** create custom implementations when a template exists
- ❌ **NEVER** use inline configurations when a template is available
- ❌ **NEVER** duplicate template logic in individual pages

#### 3. Available Templates:

##### Pagination Template:
- **File**: `frontend/src/templates/useStandardPagination.js`
- **For state management**: Use `useStandardPagination(itemName, pageSize)` hook
- **For inline use**: Use `getStandardPaginationConfig(itemName, pageSize)` function
- **Usage**: ALL tables with pagination MUST use this template
- **Examples**: See `ProductManagement.js`, `DealerManagement.js`, `PlacedOrders.js`

##### Date Picker Template:
- **File**: `frontend/src/templates/UIConfig.js`
- **Function**: `createStandardDatePickerConfig(availableDates)`
- **Usage**: ALL date pickers MUST use this template
- **Examples**: See `PlacedOrders.js`, `DailyReport.js`, `TSOReport.js`

##### Table Template:
- **File**: `frontend/src/templates/TableTemplate.js`
- **Components**: `StandardExpandableTable`, `renderStandardExpandedRow`
- **Usage**: ALL expandable tables MUST use this template
- **Examples**: See `DealerReports.js`, `ExpandableTableTemplateDemo.js`

#### 4. Template Compliance Checklist:
- [ ] Checked `frontend/src/templates/` for existing template
- [ ] Imported template function/component
- [ ] Used template instead of custom implementation
- [ ] Verified template usage matches other pages
- [ ] No inline custom configurations created

#### 5. Enforcement:
- **ALL** new components must check for templates first
- **ALL** existing components must be updated to use templates when available
- **NO** exceptions - templates are mandatory when they exist
- If a template doesn't exist for a pattern, create one in `frontend/src/templates/` for future use

### Template Files Location:
- **Directory**: `frontend/src/templates/`
- **Current Templates**:
  - `useStandardPagination.js` - Universal pagination hook/function
  - `UIConfig.js` - Date picker and UI configurations
  - `TableTemplate.js` - Expandable table template

---

**Remember**: The user has repeatedly emphasized design consistency. This is a core requirement, not optional. Always match existing design patterns exactly. **ALWAYS use templates when they exist - no custom implementations allowed.**

